<div class="modal-header px-5 bg-dark text-light border-bottom-0">
    <div class="d-flex flex-column">
        <span class="text-muted">Routes to:</span>
        <span>{{ destinationName }}</span>
    </div>
    <button type="button" class="close" aria-label="Close"
            (click)="activeModal.dismiss('Cross click')">
        <span aria-hidden="true">&times;</span>
    </button>
</div>
<div class="modal-body route-suggestions bg-dark">
    <ng-container *ngIf="routeSuggestions && routeSuggestions.length">
        <ngb-accordion #acc="ngbAccordion" activeIds="ngb-panel-0" closeOthers="{{true}}">
            <ngb-panel  *ngFor="let rSuggestion of routeSuggestions; index as i"
                        [id]="'ngb-panel-' + i"
                        [cardClass]="acc.isExpanded('ngb-panel-' + i) && 'panel-expanded'">
                <ng-template ngbPanelHeader>
                    <div (click)="acc.toggle('ngb-panel-' + i)">
                        <span class="panel-arrow mr-3">&#8674;</span>
                        <span   *ngFor="let tOverview of rSuggestion.titleOverview"
                                class="btn btn-outline-secondary mr-2">{{ tOverview.vehicle }}
                                <span class="badge badge-primary badge-pill">{{ tOverview.line }}</span>
                        </span>
                        <small class="align-top">{{ rSuggestion.titleTime }}</small>
                    </div>
                </ng-template>
                <ng-template ngbPanelContent>
                    <table class="table table-sm table-hover table-borderless">
                        <tbody>
                            <tr *ngFor="let step of rSuggestion.steps; index as stepIdx">
                                <ng-template [ngIf]="step.travel_mode == 'TRANSIT'" [ngIfElse]="walkingBlock">
                                    <th scope="row">{{ stepIdx+1 }}</th><td>{{ step.vehicle }}</td>
                                    <td><b>{{ step.line }}</b></td>
                                    <td>stops: {{step.stops}}</td>
                                </ng-template>
                                <ng-template #walkingBlock>
                                    <th scope="row">{{ stepIdx+1 }}</th><td>{{ step.instructions }}</td>
                                </ng-template>
                            </tr>
                        </tbody>
                    </table>
                    <!-- <ol class="list-group list-group-flush">
                        <li *ngFor="let step of rSuggestion.steps; index as stepIdx"
                            class="list-group-item list-group-item-action">
                            <span *ngIf="step.travel_mode == 'TRANSIT'; else walkingBlock">
                                {{ stepIdx+1 }} {{ step.vehicle }} <b>{{ step.line }}</b>
                                <span class="badge badge-light">stops: {{step.stops}}</span>
                            </span>
                            <ng-template #walkingBlock>{{ stepIdx+1 }} {{ step.instructions }}</ng-template>
                        </li>
                    </ol> -->
                </ng-template>
            </ngb-panel>
        </ngb-accordion>
    </ng-container>        
</div>